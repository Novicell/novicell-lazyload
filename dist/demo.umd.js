!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("lodash/debounce")):"function"==typeof define&&define.amd?define(["lodash/debounce"],e):e((t=t||self).debounce)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;(function(t){!function(e,n){var i=function(t,e){if(!e.getElementsByClassName)return;var n,i,a=e.documentElement,r=t.Date,s=t.HTMLPictureElement,o=t.addEventListener,l=t.setTimeout,u=t.requestAnimationFrame||l,d=t.requestIdleCallback,c=/^picture$/i,f=["load","error","lazyincluded","_lazyloaded"],g={},y=Array.prototype.forEach,h=function(t,e){return g[e]||(g[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),g[e].test(t.getAttribute("class")||"")&&g[e]},b=function(t,e){h(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},m=function(t,e){var n;(n=h(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(n," "))},v=function t(e,n,i){var a=i?"addEventListener":"removeEventListener";i&&t(e,n),f.forEach(function(t){e[a](t,n)})},p=function(t,i,a,r,s){var o=e.createEvent("CustomEvent");return a||(a={}),a.instance=n,o.initCustomEvent(i,!r,!s,a),t.dispatchEvent(o),o},z=function(e,n){var a;!s&&(a=t.picturefill||i.pf)?a({reevaluate:!0,elements:[e]}):n&&n.src&&(e.src=n.src)},A=function(t,e){return(getComputedStyle(t,null)||{})[e]},w=function(t,e,n){for(n=n||t.offsetWidth;n<i.minSize&&e&&!t._lazysizesWidth;)n=e.offsetWidth,e=e.parentNode;return n},C=(M=[],x=[],S=M,_=function(){var t=S;for(S=M.length?x:M,N=!0,W=!1;t.length;)t.shift()();N=!1},q=function(t,n){N&&!n?t.apply(this,arguments):(S.push(t),W||(W=!0,(e.hidden?l:u)(_)))},q._lsFlush=_,q),E=function(t,e){return e?function(){C(t)}:function(){var e=this,n=arguments;C(function(){t.apply(e,n)})}},L=function(t){var e,n,i=function(){e=null,t()},a=function t(){var e=r.now()-n;e<99?l(t,99-e):(d||i)(i)};return function(){n=r.now(),e||(e=l(a,99))}};var N,W,M,x,S,_,q;!function(){var e,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:300};for(e in i=t.lazySizesConfig||t.lazysizesConfig||{},n)e in i||(i[e]=n[e]);t.lazySizesConfig=i,l(function(){i.init&&k()})}();var T=function(){var s,u,f,g,w,N,W,M,x,S,_,q,T,k,B,O,R,H,P,U,F=/^img$/i,I=/^iframe$/i,D="onscroll"in t&&!/glebot/.test(navigator.userAgent),$=0,J=0,X=-1,G=function t(e){J--,e&&e.target&&v(e.target,t),(!e||J<0||!e.target)&&(J=0)},Q=function(t,n){var i,r=t,s="hidden"==A(e.body,"visibility")||"hidden"!=A(t,"visibility");for(M-=n,_+=n,x-=n,S+=n;s&&(r=r.offsetParent)&&r!=e.body&&r!=a;)(s=(A(r,"opacity")||1)>0)&&"visible"!=A(r,"overflow")&&(i=r.getBoundingClientRect(),s=S>i.left&&x<i.right&&_>i.top-1&&M<i.bottom+1);return s},V=function(){var t,r,o,l,d,c,f,y,h,b=n.elements;if((g=i.loadMode)&&J<8&&(t=b.length)){r=0,X++,null==T&&("expand"in i||(i.expand=a.clientHeight>500&&a.clientWidth>500?500:370),q=i.expand,T=q*i.expFactor),$<T&&J<1&&X>2&&g>2&&!e.hidden?($=T,X=0):$=g>1&&X>1&&J<6?q:0;for(;r<t;r++)if(b[r]&&!b[r]._lazyRace)if(D)if((y=b[r].getAttribute("data-expand"))&&(c=1*y)||(c=$),h!==c&&(N=innerWidth+c*k,W=innerHeight+c,f=-1*c,h=c),o=b[r].getBoundingClientRect(),(_=o.bottom)>=f&&(M=o.top)<=W&&(S=o.right)>=f*k&&(x=o.left)<=N&&(_||S||x||M)&&(i.loadHidden||"hidden"!=A(b[r],"visibility"))&&(u&&J<3&&!y&&(g<3||X<4)||Q(b[r],c))){if(it(b[r]),d=!0,J>9)break}else!d&&u&&!l&&J<4&&X<4&&g>2&&(s[0]||i.preloadAfterLoad)&&(s[0]||!y&&(_||S||x||M||"auto"!=b[r].getAttribute(i.sizesAttr)))&&(l=s[0]||b[r]);else it(b[r]);l&&!d&&it(l)}},Y=(B=V,R=0,H=i.ricTimeout,P=function(){O=!1,R=r.now(),B()},U=d&&i.ricTimeout?function(){d(P,{timeout:H}),H!==i.ricTimeout&&(H=i.ricTimeout)}:E(function(){l(P)},!0),function(t){var e;(t=!0===t)&&(H=33),O||(O=!0,(e=125-(r.now()-R))<0&&(e=0),t||e<9&&d?U():l(U,e))}),K=function(t){b(t.target,i.loadedClass),m(t.target,i.loadingClass),v(t.target,tt),p(t.target,"lazyloaded")},Z=E(K),tt=function(t){Z({target:t.target})},et=function(t){var e,n=t.getAttribute(i.srcsetAttr);(e=i.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),n&&t.setAttribute("srcset",n)},nt=E(function(t,e,n,a,r){var s,o,u,d,g,h;(g=p(t,"lazybeforeunveil",e)).defaultPrevented||(a&&(n?b(t,i.autosizesClass):t.setAttribute("sizes",a)),o=t.getAttribute(i.srcsetAttr),s=t.getAttribute(i.srcAttr),r&&(u=t.parentNode,d=u&&c.test(u.nodeName||"")),h=e.firesLoad||"src"in t&&(o||s||d),g={target:t},h&&(v(t,G,!0),clearTimeout(f),f=l(G,2500),b(t,i.loadingClass),v(t,tt,!0)),d&&y.call(u.getElementsByTagName("source"),et),o?t.setAttribute("srcset",o):s&&!d&&(I.test(t.nodeName)?function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}}(t,s):t.src=s),r&&(o||d)&&z(t,{src:s})),t._lazyRace&&delete t._lazyRace,m(t,i.lazyClass),C(function(){(!h||t.complete&&t.naturalWidth>1)&&(h?G(g):J--,K(g))},!0)}),it=function(t){var e,n=F.test(t.nodeName),a=n&&(t.getAttribute(i.sizesAttr)||t.getAttribute("sizes")),r="auto"==a;(!r&&u||!n||!t.getAttribute("src")&&!t.srcset||t.complete||h(t,i.errorClass)||!h(t,i.lazyClass))&&(e=p(t,"lazyunveilread").detail,r&&j.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,J++,nt(t,e,r,a,n))},at=function t(){if(!u)if(r.now()-w<999)l(t,999);else{var e=L(function(){i.loadMode=3,Y()});u=!0,i.loadMode=3,Y(),o("scroll",function(){3==i.loadMode&&(i.loadMode=2),e()},!0)}};return{_:function(){w=r.now(),n.elements=e.getElementsByClassName(i.lazyClass),s=e.getElementsByClassName(i.lazyClass+" "+i.preloadClass),k=i.hFac,o("scroll",Y,!0),o("resize",Y,!0),t.MutationObserver?new MutationObserver(Y).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a.addEventListener("DOMNodeInserted",Y,!0),a.addEventListener("DOMAttrModified",Y,!0),setInterval(Y,999)),o("hashchange",Y,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e.addEventListener(t,Y,!0)}),/d$|^c/.test(e.readyState)?at():(o("load",at),e.addEventListener("DOMContentLoaded",Y),l(at,2e4)),n.elements.length?(V(),C._lsFlush()):Y()},checkElems:Y,unveil:it}}(),j=(O=E(function(t,e,n,i){var a,r,s;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),c.test(e.nodeName||""))for(a=e.getElementsByTagName("source"),r=0,s=a.length;r<s;r++)a[r].setAttribute("sizes",i);n.detail.dataAttr||z(t,n.detail)}),R=function(t,e,n){var i,a=t.parentNode;a&&(n=w(t,a,n),(i=p(t,"lazybeforesizes",{width:n,dataAttr:!!e})).defaultPrevented||(n=i.detail.width)&&n!==t._lazysizesWidth&&O(t,a,i,n))},H=L(function(){var t,e=B.length;if(e)for(t=0;t<e;t++)R(B[t])}),{_:function(){B=e.getElementsByClassName(i.autosizesClass),o("resize",H)},checkElems:H,updateElem:R}),k=function t(){t.i||(t.i=!0,j._(),T._())};var B,O,R,H;return n={cfg:i,autoSizer:j,loader:T,init:k,uP:z,aC:b,rC:m,hC:h,fire:p,gW:w,rAF:C}}(e,e.document);e.lazySizes=i,t.exports&&(t.exports=i)}(window)})(e={exports:{}},e.exports);var e,n=function(){function t(t){return t.indexOf("?")>-1?"&":"?"}function e(e,n){if(n){var i=JSON.parse(n);Object.keys(i).forEach(function(n){e+=null!==i[n]?t(e)+n+"="+i[n]:""})}return e}return{queryUrl:e,getUrl:function(n){var i=n.getAttribute("data-src"),a=n.getAttribute("data-height-ratio"),r=n.parentNode.innerWidth||n.parentNode.offsetWidth;if(r=null!==r?r+50-r%50:null,!a){var s=n.parentNode.innerHeight||n.parentNode.offsetHeight;a=(s=null!==s?s+50-s%50:null)/r}var o=r,l=o*a;return i+=o?t(i)+"width="+o:"",i=e(i+=null!==l?t(i)+"height="+l:"",n.getAttribute("data-query-obj"))}}},i=0;window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.expand=1e3;function a(t){var e=new Image;e.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",e.onload=e.onerror=function(){t(2===e.height)}}var r=new function t(e){var r=e.includeWebp,s=void 0===r||r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.includeWebp=s,this.lazyLoad=function(t){t.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})};var e=this.includeWebp,i=t.target,r=i.classList.contains("lazyload-measure")||i.classList.contains("lazyload-bg"),s=i.classList.contains("lazyload-measure"),o=i.hasAttribute("data-srcset")&&i.hasAttribute("data-query-obj"),l=i.hasAttribute("data-src")&&i.hasAttribute("data-query-obj");if(r&&t.preventDefault(),s){var u=i.classList.contains("lazyload-bg"),d=n().getUrl(i);a(function(t){t&&e&&(d+="&format=webp"),u?(i.parentNode.style.backgroundImage="url("+d+")",i.style.visibility="hidden"):i.src=d})}else if(o){var c=i.getAttribute("data-query-obj"),f=i.getAttribute("data-srcset").split(","),g=i.getAttribute("data-src"),y=[];a(function(t){f.forEach(function(i){var a=(i=(i=i.trim()).split(" "))[0],r=i[1],s=n().queryUrl(a,c);t&&e&&(a+="&format=webp"),y.push(s+" "+r)}),t&&e&&(g+="&format=webp"),i.setAttribute("srcset",y.join(", ")),i.setAttribute("src",n().queryUrl(g,c))})}else l&&(c=i.getAttribute("data-query-obj"),g=i.getAttribute("data-src"),d=n().queryUrl(g,c),i.setAttribute("src",d))},this.checkImages=function(){if(window.innerWidth>i+50||window.innerWidth<i-50){var t=Array.prototype.slice.call(document.body.querySelectorAll(".lazyloaded"));t.length>0&&t.map(function(t){t.classList.remove("lazyloaded"),t.classList.add("lazyload")}),i=window.innerWidth}}}({includeWebp:!0});document.addEventListener("lazybeforeunveil",function(t){r.lazyLoad(t)},!0),window.addEventListener("resize",function(){t(r.checkImages())},100,!1)});
